@model MeetingRoomBooking.Data.Models.User

@section script {
    <script src="~/js/EditUser.js"></script>
}

@{
    Layout = "_HomeLayout";
    ViewData["Title"] = "Details";
}
<h1>Details</h1>
<div style="display:flex; justify-content:space-between">
    

    <h4>User</h4>
    <a class="btn btn-primary" asp-action="Index">
        Return to List
    </a>
</div>
<div>
    <hr />
    <form asp-action="Details" method="post">
    <dl class="row">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <input type="hidden" asp-for="UserId" />
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.LastName)
        </dt>
        <dd class="col-sm-10">
            <input asp-for="LastName" class="form-control" disabled/>
            <span asp-validation-for="LastName" class="text-danger"></span>
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.FirstName)
        </dt>
        <dd class="col-sm-10">
            <input asp-for="FirstName" class="form-control" disabled />
            <span asp-validation-for="FirstName" class="text-danger"></span>
        </dd>
        
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Email)
        </dt>
        <dd class="col-sm-10">
            <input asp-for="Email" class="form-control" disabled />
            <span asp-validation-for="Email" class="text-danger"></span>
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Phone)
        </dt>
        <dd class="col-sm-10">
            <input asp-for="Phone" class="form-control" disabled />
            <span asp-validation-for="Phone" class="text-danger"></span>
        </dd>
            <hr />
    </dl>
        <button type="submit" id="saveButton" style="display:none" class="btn btn-primary">Save Changes</button>
    </form>

    <div>
        <button id="editButton" onclick="enableInput()" type="button" class="btn btn-primary" >
            Edit
        </button>
        <br id="break"/>

        <button type="button" class="btn btn-primary" data-bs-toggle="modal" style="margin-top:8px" data-bs-target="#exampleModal">
            Delete
        </button>

    </div>
</div>
    

    <script>
    function enableInput() {
        document.getElementById("LastName").disabled = false;
        document.getElementById("FirstName").disabled = false;
        document.getElementById("UserId").disabled = false;
        document.getElementById("Email").disabled = false;
        document.getElementById("Phone").disabled = false;
        
        document.getElementById("saveButton").style.display = "inline-block"
        document.getElementById("editButton").style.display = "none"
        document.getElementById("break").style.display = "none"

    }
    </script>
    <!-- Button trigger modal -->
    
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Sure najud ka?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <form asp-action="Delete" method="post">
                    @Html.AntiForgeryToken()
                    @Html.HiddenFor(u => u.UserId);
                    <button type="submit" class="btn btn-danger">Delete</button>
                </form>
                </div>
            </div>
        </div>
    </div>

<style>
    .form-control{
        width:40%;
        min-width: 330px;
    }
    .col-sm-2{
        max-width: 150px

    }


</style>